apply plugin: 'maven'

group 'com.acuo.collateral'
version = '0.0.1-SNAPSHOT'

ext {
    // location of external files relative to this build.gradle file
    extFiles = [
            valuations:   'transformer-valuations.jar',
            margin:       'transformer-margin.jar'
            // sources:    'api/extlib-src.zip',
            // javadoc:    'api/extlib-doc.zip'
    ]
}

uploadArchives {
    repositories.mavenDeployer {
        pom.project {
            name 'Transformer Exposed Services jar'
            organization {
                name 'Trace Financial'
            }
        }
        repository(url: "${nexusUrl}/repository/maven-snapshots/") {
            authentication(userName: nexusUsername, password: nexusPassword)
        }
        addFilter('transformer-valuations') {artifact, file ->
            artifact.name == 'transformer-valuations'
        }
        addFilter('transformer-margin') {artifact, file ->
            artifact.name == 'transformer-margin'
        }
    }
}

artifacts {
    archives file: file( extFiles.valuations), name: 'transformer-valuations', type: 'jar'
    archives file: file( extFiles.margin ), name: 'transformer-margin', type: 'jar'
}